import{r as e,n,S as t,P as i,F as o,H as s,D as a,G as r,W as c,s as l,A as d,L as u,T as m,a as p,V as f,o as v,c as w,b as g,d as h,t as y,C as b,e as E,f as U}from"./vendor.889afa49.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&n(e)})).observe(document,{childList:!0,subtree:!0})}function n(e){if(e.ep)return;e.ep=!0;const n=function(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?n.credentials="include":"anonymous"===e.crossorigin?n.credentials="omit":n.credentials="same-origin",n}(e);fetch(e.href,n)}}();const x={id:"box"},W=["src"],k=["src"],H={class:"text currency"},L=["src"],P={setup(E){const U=e({id:1,picUrl:null,videoUrl:"https://ciligongfang.oss-cn-chengdu.aliyuncs.com/6ce129574c06470399e2b5542be64ab9.mp4",createTime:null,textUrl:"刺梨饮料灌身",labelName:"刺梨饮料灌身"});let P,S,D,A,C,I,N,O,R={};const T=e(0);n((()=>{const e=document.getElementById("app");T.value=window.innerHeight-e.offsetHeight+"px";document.getElementById("canvasDiv").style.height=T.value}));const z=new t,F=["Idle","Walking","Running","Dance","Death","Sitting","Standing"],G=["Jump","Yes","No","Wave","Punch","ThumbsUp"];function j(){I.aspect=window.innerWidth/window.innerHeight,I.updateProjectionMatrix(),N.setSize(window.innerWidth,window.innerHeight)}function q(){const e=S.getDelta();D&&D.update(e),requestAnimationFrame(q),N.render(z,I)}return async function(){const e=document.createElement("div");e.id="canvasDiv",P=e,document.body.appendChild(P),I=new i(45,window.innerWidth/window.innerHeight,.25,100),z.fog=new o(14737632,20,100),S=new b;const n=new s(16777215,4473924);n.position.set(0,20,0),z.add(n);const t=new a(16777215);t.position.set(0,20,10),z.add(t);const f=new r;await f.load("https://miniapplet.ciligf.com/ar/resource/lib/RobotExpressive.glb",(function(e){O=e.scene,O.name="myGltf",z.add(O),function(e,n){D=new d(e);for(let o=0;o<n.length;o++){const e=n[o],t=D.clipAction(e);R[e.name]=t,(G.indexOf(e.name)>=0||F.indexOf(e.name)>=4)&&(t.clampWhenFinished=!0,t.loop=u)}A=R.Punch,t="Walking",i=.2,C=A,A=R[t],C.fadeOut(i),A.reset().setEffectiveTimeScale(1).setEffectiveWeight(1).fadeIn(i).play();var t,i}(O,e.animations),function(){var e=new m(I,N.domElement);z.add(e);var n=[];n.push(O);var t=new p(n,I,N.domElement);t.transformGroup=!0,t.addEventListener("dragend",(function(e){}))}()}),void 0,(function(e){console.error(e)})),N=new c({antialias:!0}),N.setPixelRatio(window.devicePixelRatio),N.setSize(window.innerWidth,window.innerHeight),N.outputEncoding=l,P.appendChild(N.domElement),N.setClearColor(9739170,1),window.addEventListener("resize",j),q()}(),I.position.set(-5,6,40),I.lookAt(new f(-5,-12,0)),(e,n)=>(v(),w("div",x,[U.value.videoUrl?(v(),w("video",{key:0,controls:"",class:"video currency",src:U.value.videoUrl},null,8,W)):g("",!0),U.value.picUrl?(v(),w("img",{key:1,class:"img currency",src:U.value.picUrl,alt:""},null,8,k)):g("",!0),h("div",H,y(U.value.textUrl),1),!U.value.videoUrl&&U.value.audioUrl?(v(),w("audio",{key:2,class:"currency",src:U.value.audioUrl,controls:""},null,8,L)):g("",!0)]))}};U({setup:e=>(e,n)=>(v(),E(P))}).mount("#app");
